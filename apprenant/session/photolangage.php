<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Change Management | Alter&Go</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<base href="http://apprenant.alteretgo.my-workflow.fr/">

	<link href="http://commun.alteretgo.my-workflow.fr/normalize.css" rel="stylesheet" type="text/css">
	<link href="http://commun.alteretgo.my-workflow.fr/apprenant.css" rel="stylesheet" type="text/css">
</head>
<body>
	<div id="header">
		<div class="row">
			<div id="title" class="col-9 title">
				Illustrez le changement
			</div>
			<div id="groupe" class="col-3"></div>
		</div>
	</div>
	<div id="noServ"><div class="vwrap"><div class="valign"><p>Le serveur de communication ne répond pas.</p><a href="#" class="btn alter-btn white-text txt-center block center" onclick="retryIo();return false;" style="width: 30%;"><i class="material-icons right">autorenew</i> Relancer la connexion.</a></div></div></div>
	<div id="content" class="">
		<div id="imagesSelector" class="white">
			<div class="row no-after">
				<div class="col-3 stepImg" data-img="img01" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-01.jpg" alt="" class="">
				</div>
				<div class="col-3 stepImg" data-img="img02" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-02.jpg" alt="" class="">
				</div>
				<div class="col-3 stepImg" data-img="img03" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-03.jpg" alt="" class="">
				</div>
				<div class="col-3 stepImg" data-img="img04" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-04.jpg" alt="" class="">
				</div>
			</div>
			<div class="row no-after">
				<div class="col-3 stepImg" data-img="img05" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-05.jpg" alt="" class="">
				</div>
				<div class="col-3 stepImg" data-img="img06" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-06.jpg" alt="" class="">
				</div>
				<div class="col-3 stepImg" data-img="img07" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-07.jpg" alt="" class="">
				</div>
				<div class="col-3 stepImg" data-img="img08" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-08.jpg" alt="" class="">
				</div>
			</div>
			<div class="row no-after">
				<div class="col-3 stepImg" data-img="img09" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-09.jpg" alt="" class="">
				</div>
				<div class="col-3 stepImg" data-img="img10" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-10.jpg" alt="" class="">
				</div>
				<div class="col-3 stepImg" data-img="img11" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-11.jpg" alt="" class="">
				</div>
				<div class="col-3 stepImg" data-img="img12" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-12.jpg" alt="" class="">
				</div>
			</div>
			<div class="row no-after">
				<div class="col-3 stepImg" data-img="img13" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-13.jpg" alt="" class="">
				</div>
				<div class="col-3 stepImg" data-img="img14" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-14.jpg" alt="" class="">
				</div>
				<div class="col-3 stepImg" data-img="img15" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-15.jpg" alt="" class="">
				</div>
				<div class="col-3 stepImg" data-img="img16" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-16.jpg" alt="" class="">
				</div>
			</div>
			<div class="row after10">
				<div class="col-3 stepImg" data-img="img17" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-17.jpg" alt="" class="">
				</div>
				<div class="col-3 stepImg" data-img="img18" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-18.jpg" alt="" class="">
				</div>
				<div class="col-3 stepImg" data-img="img19" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-19.jpg" alt="" class="">
				</div>
				<div class="col-3 stepImg" data-img="img20" data-word="">
					<img src="http://commun.alteretgo.my-workflow.fr/photolangage/img-step-20.jpg" alt="" class="">
				</div>
			</div>
		</div>
		<div id="wordselector" class="txt-center">
			<div class="row">
				<div class="col-3">
					<div class="vwrap">
						<div class="valign">
							<a href="#!" id="prev" class="btn alter-btn white-text">
								<i class="material-icons left">chevron_left</i>
								Précédent
							</a>
						</div>
					</div>
				</div>
				<div class="col-6">
					<img id="imgMind" src="" alt="">
				</div>
				<div class="col-3">
					<div class="vwrap">
						<div class="valign">
							<div class="italic">Votre choix est définitif.</div>
							<a href="#!" id="valid" class="btn alter-btn white-text op0">
								<i class="material-icons right">check</i>
								Valider
							</a>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-3">
					<a href="#!" id="word11" class="btn alter-clair white-text word block">
						Action
					</a>
				</div>
				<div class="col-3">
					<a href="#!" id="word12" class="btn alter-clair white-text word block">
						Emotion
					</a>
				</div>
				<div class="col-3">
					<a href="#!" id="word13" class="btn alter-clair white-text word block">
						Aventure
					</a>
				</div>
				<div class="col-3">
					<a href="#!" id="word14" class="btn alter-clair white-text word block">
						Extraordinaire
					</a>
				</div>
			</div>
			<div class="row">
				<div class="col-3">
					<a href="#!" id="word21" class="btn alter-clair white-text word block">
						Enthousiasme
					</a>
				</div>
				<div class="col-3">
					<a href="#!" id="word22" class="btn alter-clair white-text word block">
						Rupture
					</a>
				</div>
				<div class="col-3">
					<a href="#!" id="word23" class="btn alter-clair white-text word block">
						Contrainte
					</a>
				</div>
				<div class="col-3">
					<a href="#!" id="word24" class="btn alter-clair white-text word block">
						Opportunité
					</a>
				</div>
			</div>
			<div class="row">
				<div class="col-3">
					<a href="#!" id="word31" class="btn alter-clair white-text word block">
						Incontournable
					</a>
				</div>
				<div class="col-3">
					<a href="#!" id="word32" class="btn alter-clair white-text word block">
						Logique
					</a>
				</div>
				<div class="col-3">
					<a href="#!" id="word33" class="btn alter-clair white-text word block">
						Méthode
					</a>
				</div>
				<div class="col-3">
					<a href="#!" id="word34" class="btn alter-clair white-text word block">
						Irrationnel
					</a>
				</div>
			</div>
			<div class="row">
				<div class="col-3">
					<a href="#!" id="word41" class="btn alter-clair white-text word block">
						Imposé
					</a>
				</div>
				<div class="col-3">
					<a href="#!" id="word42" class="btn alter-clair white-text word block">
						Inévitable
					</a>
				</div>
				<div class="col-3">
					<a href="#!" id="word43" class="btn alter-clair white-text word block">
						Management
					</a>
				</div>
				<div class="col-3">
					<a href="#!" id="word44" class="btn alter-clair white-text word block">
						Transformation
					</a>
				</div>
			</div>
			<div class="row">
				<div class="col-3">
					<a href="#!" id="word51" class="btn alter-clair white-text word block">
						Pérennité
					</a>
				</div>
				<div class="col-3">
					<a href="#!" id="word52" class="btn alter-clair white-text word block">
						Quotidien
					</a>
				</div>
				<div class="col-3">
					<a href="#!" id="word53" class="btn alter-clair white-text word block">
						Difficile
					</a>
				</div>
				<div class="col-3">
					<a href="#!" id="word54" class="btn alter-clair white-text word block">
						Long
					</a>
				</div>
			</div>
		</div>
	</div>
	<div id="notif" class=""></div>
	<div id="jingle" class=""><div class="masque"></div></div>
	<div id="forceLandscape"><div class="valign"><i class="material-icons">screen_rotation</i> Veuillez mettre la tablette à l'horizontale.</div></div>

	<script type="text/javascript" src="http://commun.alteretgo.my-workflow.fr/jquery.min.js"></script>
	<script type="text/javascript" src="http://commun.alteretgo.my-workflow.fr/socket.io-1.2.0.js"></script>

	<!--<script type="text/javascript" src="http://commun.alteretgo.my-workflow.fr/js/gaia_lcs.js"></script>-->
	<!--<script type="text/javascript" src="http://commun.alteretgo.my-workflow.fr/js/gaia_lcs_func.js"></script>-->

	<script src="http://commun.alteretgo.my-workflow.fr/apprenant.js"></script>
	<script type="text/javascript">
		var it_io = 0, io_try = 5;
		function checkIo() {
			if ( my_lcs.my_io != null && typeof my_lcs.my_io !== 'undefined' ) { clearInterval( lcIo ); if ( hasLocalData( _idQuizz ) ) { recovery(); } else { initialized(); } $( '#content, #jingle' ).addClass( 'show' ); setTimeout( function() { $( '#jingle' ).css( 'display', 'none' ); }, 3000 ); }
			else{ it_io++; }
			if ( it_io == io_try ) { clearInterval( lcIo ); $( '#noServ' ).addClass( 'show' ); }
		};

		function retryIo() {
			$( '#noServ' ).removeClass( 'show' );
			it_io = 0;
			lcIo = setInterval( checkIo, 300 );
		}

		function recovery () {
			_tmp = getLocalData( _idQuizz );
			if ( _tmp.nbr == 6 ){
				goTo( 'synthese-photolangage.php' );
				return null;
			}
			else {
				nbr = _tmp.nbr;
				$.each( _tmp, function( index, val ) {
					$( 'div.stepImg[data-img="' + val.img + '"]' ).addClass( 'selected' ).attr( 'data-word', _srcWrd[ val.word ] );
					$( '#' + val.word ).addClass( 'selected' );
				} );
			}
		};

		function initialized () {
			_declaration = _LRSbegin;
			_declaration = _declaration.replace( /__grpName__/g, _grp.name );
			_declaration = _declaration.replace( /__grpKey__/g, _grp.key );
			_declaration = _declaration.replace( /__grpUri__/g, formatURIGrp() );
			_declaration = _declaration.replace( /__member__/g, JSON.stringify( _grpMember ) );
			_declaration = _declaration.replace( /__uriQuizz__/g, formatURILesson( 'photolangage' ) );
			_declaration = _declaration.replace( /__quizzName__/g, _quizzName );
			_declaration = _declaration.replace( /__quizzNameDesc__/g, _quizzNameDesc );
			_declaration = _declaration.replace( /__uriCourse__/g, formatURICourse() );
			_declaration = _declaration.replace( /__uriCourseFormator__/g, formatURIFormator() );
			_declaration = _declaration.replace( /__uuidFormator__/g, _instructor );
			_declaration = _declaration.replace( /__timeStamp__/g, _dtBegin.toISOString() );
			console.log( _declaration );
			_declaration = JSON.parse( _declaration );
			tmp = my_lcs.xAPI_Set_Tracking( _declaration );
			setLocalData( _idQuizz, {"nbr":0} );
		};

		function segment ( _n, _reponses, _finit ) {
			_finit = _finit || false;
			finite[ 'groupe' ] += `{
				"id":"` + formatURILesson( 'photolangage', _n ) + `",
				"definition":{
					"type":"http://adlnet.gov/expapi/activities/interaction"
				}
			},`;
			_dtPart = new Date();
			_declaration = _LRSsegment;
			_declaration = _declaration.replace( /__grpName__/g, _grp.name );
			_declaration = _declaration.replace( /__grpKey__/g, _grp.key );
			_declaration = _declaration.replace( /__grpUri__/g, formatURIGrp() );
			_declaration = _declaration.replace( /__member__/g, JSON.stringify( _grpMember ) );
			_declaration = _declaration.replace( /__uriQuizzInc__/g, formatURILesson( 'photolangage', _n ) );
			_declaration = _declaration.replace( /__uriCourse__/g, formatURICourse() );
			_declaration = _declaration.replace( /__reponses__/g, _reponses );
			_declaration = _declaration.replace( /__uriQuizz__/g, formatURILesson( 'photolangage' ) );
			_declaration = _declaration.replace( /__uriCourseFormator__/g, formatURIFormator() );
			_declaration = _declaration.replace( /__uuidFormator__/g, _instructor );
			_declaration = _declaration.replace( /__timeStamp__/g, _dtPart.toISOString() );
			_declaration = JSON.parse( _declaration );
			tmp = my_lcs.xAPI_Set_Tracking( _declaration );
			sendToSave(
				'save-solo.php',
				{
					'ssid': _ssid,
					'uuid': _grp.key,
					'quizz': _idQuizz,
					'data': JSON.stringify( _declaration )
				}
			);
			sayPart( _n );
			_selection = getLocalData( _idQuizz );
			_selection.nbr++;
			_selection[ _n ] = {};
			_tmp = _reponses.split( '[.]' );
			_selection[ _n ][ 'img' ] = _tmp[ 0 ];
			_selection[ _n ][ 'word' ] = _tmp[ 1 ];
			setLocalData( _idQuizz, _selection );
			if ( _finit === true ) {
				finished();
			}
		};

		function sayPart( _step ) {
			_msg = {
				"cible": "former",
				"msg": "photolangage-part",
				"id": _grp.key,
				"step": _step
			};
			_msg = JSON.stringify( _msg );
			my_lcs.LCS_sndData( _msg );
		};

		function finished () {
			_dtEnd = new Date();
			finite[ 'duration' ] = getDuration( _dtBegin, _dtEnd );
			finite[ 'groupe' ] = finite[ 'groupe' ].slice( 0, -1 );
			_reponsesGlobal = _reponsesGlobal.slice( 0, -3 );

			_declaration = _LRSend;
			_declaration = _declaration.replace( /__grpName__/g, _grp.name );
			_declaration = _declaration.replace( /__grpKey__/g, _grp.key );
			_declaration = _declaration.replace( /__grpUri__/g, formatURIGrp() );
			_declaration = _declaration.replace( /__member__/g, JSON.stringify( _grpMember ) );
			_declaration = _declaration.replace( /__uriQuizz__/g, formatURILesson( 'photolangage' ) );
			_declaration = _declaration.replace( /__quizzName__/g, _quizzName );
			_declaration = _declaration.replace( /__quizzNameDesc__/g, _quizzNameDesc );
			_declaration = _declaration.replace( /__reponsesGlobal__/g, _reponsesGlobal );
			_declaration = _declaration.replace( /__durationQuizz__/g, finite[ 'duration' ] );
			_declaration = _declaration.replace( /__uriCourse__/g, formatURICourse() );
			_declaration = _declaration.replace( /__groupeDeclaration__/g, finite[ 'groupe' ] );
			_declaration = _declaration.replace( /__uriCourseFormator__/g, formatURIFormator() );
			_declaration = _declaration.replace( /__uuidFormator__/g, _instructor );
			_declaration = _declaration.replace( /__timeStamp__/g, _dtEnd.toISOString() );
			_declaration = JSON.parse( _declaration );
			tmp = my_lcs.xAPI_Set_Tracking( _declaration );
			sayFinish();
		};

		function sayFinish() {
			_msg = {
				"cible": "former",
				"msg": "photolangage",
				"id": _grp.key
			};
			_msg = JSON.stringify( _msg );
			my_lcs.LCS_sndData( _msg );
			goTo( 'synthese-photolangage.php' );
		};

		function callbackMsg( _msg ) {
			_msg = JSON.parse( _msg );

			_cibles = [ _uuid, "apps" ];

			if ( $.inArray( _msg.cible, _cibles ) == -1 ) {
				_msg = null;
				return null;
			}
			if ( _msg.msg == "goto" ) {
				goTo( _msg.data );
			}
		};
		function callbackLRSMsg( _msg ) {};

		var lcIo,
			_idQuizz = '0x50686f746f',
			_LRSbegin = `{
				"actor": {
					"objectType":"Group",
					"name":"__grpName__",
					"account":{
						"name":"__grpKey__",
						"homePage":"__grpUri__"
					},
					"member":__member__
				},
				"verb": {
					"id": "http://adlnet.gov/expapi/verbs/initialized",
					"display" : {
						"en-US" : "initialized"
					}
				},
				"object": {
					"objectType": "Activity",
					"id": "__uriQuizz__",
					"definition": {
						"name": {
							"fr": "__quizzName__"
						},
						"description": {
							"fr": "__quizzNameDesc__"
						},
						"type": "http://adlnet.gov/expapi/activities/interaction",
						"interactionType":"matching"
					}
				},
				"context": {
					"contextActivities": {
						"parent": [ {
							"objectType": "Activity",
							"id": "__uriCourse__"
						} ]
					},
					"team":{
						"objectType":"Group",
						"name":"__grpName__",
						"account":{
							"name":"__grpKey__",
							"homePage":"__grpUri__"
						}
					},
					"instructor": {
						"objectType": "Agent",
						"account":{
							"homePage": "__uriCourseFormator__",
							"name": "__uuidFormator__"
						}
					}
				},
				"timestamp":"__timeStamp__"
			}`,
			_LRSsegment = `{
				"actor": {
					"objectType":"Group",
					"name":"__grpName__",
					"account":{
						"name":"__grpKey__",
						"homePage":"__grpUri__"
					},
					"member":__member__
				},
				"verb": {
					"id": "http://adlnet.gov/expapi/verbs/answered",
					"display" : {
						"en-US" : "answered"
					}
				},
				"object": {
					"objectType": "Activity",
					"id": "__uriQuizzInc__",
					"definition": {
						"type": "http://adlnet.gov/expapi/activities/interaction",
						"interactionType": "matching",
						"source":[
							{ "id":"img01", "description":{ "fr":"img-step-01" } },
							{ "id":"img02", "description":{ "fr":"img-step-02" } },
							{ "id":"img03", "description":{ "fr":"img-step-03" } },
							{ "id":"img04", "description":{ "fr":"img-step-04" } },
							{ "id":"img05", "description":{ "fr":"img-step-05" } },
							{ "id":"img06", "description":{ "fr":"img-step-06" } },
							{ "id":"img07", "description":{ "fr":"img-step-07" } },
							{ "id":"img08", "description":{ "fr":"img-step-08" } },
							{ "id":"img09", "description":{ "fr":"img-step-09" } },
							{ "id":"img10", "description":{ "fr":"img-step-10" } },
							{ "id":"img11", "description":{ "fr":"img-step-11" } },
							{ "id":"img12", "description":{ "fr":"img-step-12" } },
							{ "id":"img13", "description":{ "fr":"img-step-13" } },
							{ "id":"img14", "description":{ "fr":"img-step-14" } },
							{ "id":"img15", "description":{ "fr":"img-step-15" } },
							{ "id":"img16", "description":{ "fr":"img-step-16" } },
							{ "id":"img17", "description":{ "fr":"img-step-17" } },
							{ "id":"img18", "description":{ "fr":"img-step-18" } },
							{ "id":"img19", "description":{ "fr":"img-step-19" } },
							{ "id":"img20", "description":{ "fr":"img-step-20" } }
						],
						"target":[
							{ "id":"word11", "description":{ "fr":"Action" } },
							{ "id":"word12", "description":{ "fr":"Emotion" } },
							{ "id":"word13", "description":{ "fr":"Aventure" } },
							{ "id":"word14", "description":{ "fr":"Extraordinaire" } },
							{ "id":"word21", "description":{ "fr":"Enthousiasme" } },
							{ "id":"word22", "description":{ "fr":"Rupture" } },
							{ "id":"word23", "description":{ "fr":"Contrainte" } },
							{ "id":"word24", "description":{ "fr":"Opportunité" } },
							{ "id":"word31", "description":{ "fr":"Incontournable" } },
							{ "id":"word32", "description":{ "fr":"Logique" } },
							{ "id":"word33", "description":{ "fr":"Méthode" } },
							{ "id":"word34", "description":{ "fr":"Irrationnel" } },
							{ "id":"word41", "description":{ "fr":"Imposé" } },
							{ "id":"word42", "description":{ "fr":"Inévitable" } },
							{ "id":"word43", "description":{ "fr":"Management" } },
							{ "id":"word44", "description":{ "fr":"Transformation" } },
							{ "id":"word51", "description":{ "fr":"Pérennité" } },
							{ "id":"word52", "description":{ "fr":"Quotidien" } },
							{ "id":"word53", "description":{ "fr":"Difficile" } },
							{ "id":"word54", "description":{ "fr":"Long" } }
						]
					}
				},
				"result": {
					"response": "__reponses__"
				},
				"context": {
					"contextActivities": {
						"parent": [ {
							"objectType": "Activity",
							"id": "__uriCourse__"
						} ]
					},
					"team":{
						"objectType":"Group",
						"name":"__grpName__",
						"account":{
							"name":"__grpKey__",
							"homePage":"__grpUri__"
						}
					},
					"instructor": {
						"objectType": "Agent",
						"account":{
							"homePage": "__uriCourseFormator__",
							"name": "__uuidFormator__"
						}
					}
				},
				"timestamp":"__timeStamp__"
			}`,
			_LRSend = `{
				"actor": {
					"objectType":"Group",
					"name":"__grpName__",
					"account":{
						"name":"__grpKey__",
						"homePage":"__grpUri__"
					},
					"member":__member__
				},
				"verb": {
					"id": "http://adlnet.gov/expapi/verbs/terminated",
					"display" : {
						"en-US" : "terminated"
					}
				},
				"object": {
					"objectType": "Activity",
					"id": "__uriQuizz__",
					"definition": {
						"name": {
							"fr": "__quizzName__"
						},
						"description": {
							"fr": "__quizzNameDesc__"
						},
						"type":"http://adlnet.gov/expapi/activities/interaction",
						"interactionType":"matching",
						"source":[
							{ "id":"img01", "description":{ "fr":"img-step-01" } },
							{ "id":"img02", "description":{ "fr":"img-step-02" } },
							{ "id":"img03", "description":{ "fr":"img-step-03" } },
							{ "id":"img04", "description":{ "fr":"img-step-04" } },
							{ "id":"img05", "description":{ "fr":"img-step-05" } },
							{ "id":"img06", "description":{ "fr":"img-step-06" } },
							{ "id":"img07", "description":{ "fr":"img-step-07" } },
							{ "id":"img08", "description":{ "fr":"img-step-08" } },
							{ "id":"img09", "description":{ "fr":"img-step-09" } },
							{ "id":"img10", "description":{ "fr":"img-step-10" } },
							{ "id":"img11", "description":{ "fr":"img-step-11" } },
							{ "id":"img12", "description":{ "fr":"img-step-12" } },
							{ "id":"img13", "description":{ "fr":"img-step-13" } },
							{ "id":"img14", "description":{ "fr":"img-step-14" } },
							{ "id":"img15", "description":{ "fr":"img-step-15" } },
							{ "id":"img16", "description":{ "fr":"img-step-16" } },
							{ "id":"img17", "description":{ "fr":"img-step-17" } },
							{ "id":"img18", "description":{ "fr":"img-step-18" } },
							{ "id":"img19", "description":{ "fr":"img-step-19" } },
							{ "id":"img20", "description":{ "fr":"img-step-20" } }
						],
						"target":[
							{ "id":"word11", "description":{ "fr":"Action" } },
							{ "id":"word12", "description":{ "fr":"Emotion" } },
							{ "id":"word13", "description":{ "fr":"Aventure" } },
							{ "id":"word14", "description":{ "fr":"Extraordinaire" } },
							{ "id":"word21", "description":{ "fr":"Enthousiasme" } },
							{ "id":"word22", "description":{ "fr":"Rupture" } },
							{ "id":"word23", "description":{ "fr":"Contrainte" } },
							{ "id":"word24", "description":{ "fr":"Opportunité" } },
							{ "id":"word31", "description":{ "fr":"Incontournable" } },
							{ "id":"word32", "description":{ "fr":"Logique" } },
							{ "id":"word33", "description":{ "fr":"Méthode" } },
							{ "id":"word34", "description":{ "fr":"Irrationnel" } },
							{ "id":"word41", "description":{ "fr":"Imposé" } },
							{ "id":"word42", "description":{ "fr":"Inévitable" } },
							{ "id":"word43", "description":{ "fr":"Management" } },
							{ "id":"word44", "description":{ "fr":"Transformation" } },
							{ "id":"word51", "description":{ "fr":"Pérennité" } },
							{ "id":"word52", "description":{ "fr":"Quotidien" } },
							{ "id":"word53", "description":{ "fr":"Difficile" } },
							{ "id":"word54", "description":{ "fr":"Long" } }
						]
					}
				},
				"result": {
					"response":"__reponsesGlobal__",
					"duration":"__durationQuizz__"
				},
				"context": {
					"contextActivities": {
						"parent": [ {
							"objectType": "Activity",
							"id": "__uriCourse__"
						} ],
						"grouping": [__groupeDeclaration__]
					},
					"team":{
						"name":"__grpName__",
						"account":{
							"name":"__grpKey__",
							"homePage":"__grpUri__"
						}
					},
					"instructor": {
						"objectType": "Agent",
						"account":{
							"homePage": "__uriCourseFormator__",
							"name": "__uuidFormator__"
						}
					}
				},
				"timestamp":"__timeStamp__"
			}`,
			_quizzName = 'Photolangage',
			_quizzNameDesc = 'En groupe, associez 6 images au choix parmi les 20 avec les mots qui vous semblent les plus associatifs.',
			finite = {
				"verb": '',
				"duration": '',
				"success": false,
				"score": 0,
				"groupe": ''
			},
			_reponsesGlobal = '',
			nbr = 0,
			img = false,
			word = false,
			selection = {},
			_i = 1,
			_quizz,
			_srcWrd = {
				"word11" :"Action",
				"word12" :"Emotion",
				"word13" :"Aventure",
				"word14" :"Extraordinaire",
				"word21" :"Enthousiasme",
				"word22" :"Rupture",
				"word23" :"Contrainte",
				"word24" :"Opportunité",
				"word31" :"Incontournable",
				"word32" :"Logique",
				"word33" :"Méthode",
				"word34" :"Irrationnel",
				"word41" :"Imposé",
				"word42" :"Inévitable",
				"word43" :"Management",
				"word44" :"Transformation",
				"word51" :"Pérennité",
				"word52" :"Quotidien",
				"word53" :"Difficile",
				"word54" :"Long"
			};

		$( document ).ready( function () {
			lcIo = setInterval( checkIo, 300 );

			_dtBegin = new Date();

			_ssid = getLocalData( "ssid" );
			_grp = getLocalData( "grp" );
			_grpMember = getLocalData( "grpMember" );
			_uuid = getLocalData( "uuid" );
			_instructor = getLocalData( "instructor" );

			$( '#groupe' ).css('background-color', '#' + _grp.color ).html( _grp.name );

			$( '.stepImg:not(.selected)' ).on( 'click', function() {
				if ( nbr == 6 ) { return null; }
				if ( img !== false ) { return null; }
				if ( $( this ).hasClass('selected') ) { return null; }
				img = $( this );
				$( '#imgMind ').attr( 'src', 'http://commun.alteretgo.my-workflow.fr/photolangage/img-step-' + img.attr('data-img').replace( /img/, '' ) + '.jpg' );
				$( '#imagesSelector' ).addClass( 'hide' );
				$( '#wordselector' ).addClass( 'show' );
			} );
			$( '#prev' ).click( function( event ) {
				console.log( event );
				event.preventDefault();
				$( word ).removeClass( 'preSelected' );
				$( '#imagesSelector' ).removeClass( 'hide' );
				$( '#wordselector' ).removeClass( 'show' );
				$( '#valid' ).addClass( 'op0' );
				img = false;
				word = false;
			} );

			$( '#valid' ).click( function( event ) {
				event.preventDefault();
				_reponse = img.attr( 'data-img' ) + '[.]' + word.attr( 'id' );
				_reponsesGlobal += _reponse + '[,]';
				_finit = false;
				if ( nbr == 5 ) {
					_finit = true;
				}
				segment ( ( nbr + 1 ), _reponse, _finit );
				_i++;
				nbr++;

				img.attr( 'data-word', word.html().trim() ).addClass( 'selected' );
				word.addClass( 'selected' ).removeClass( 'preSelected' );
				$( '#imagesSelector' ).removeClass( 'hide' );
				$( '#wordselector' ).removeClass( 'show' );
				$( this ).addClass( 'op0' );
				img = false;
				word = false;
			} );

			$( '#wordselector a.word:not(.preSelected), #wordselector a.word:not(.selected)' ).on( 'click', function( event ) {
				event.preventDefault();
				//if ( word !== false ) { return null; }
				if ( $( this ).hasClass('preSelected') || $( this ).hasClass('selected') ) { return null; }
				$( '#wordselector a.word' ).removeClass( 'preSelected' );
				word = $( this );
				word.addClass( 'preSelected' );
				$( '#wordselector a.btn.op0' ).removeClass( 'op0' );
			} );
		} );
	</script>
</body>
</html>
